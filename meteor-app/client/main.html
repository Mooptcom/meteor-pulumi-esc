<head>
  <title>Mini Reddit</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>
  {{> main}}
</body>

<template name="main">
  <div class="container">
    <header>
      <h1>Mini Reddit</h1>
      <div class="login">{{> loginButtons}}</div>
      {{#if currentUser}}
        {{> postSubmit}}
      {{/if}}
    </header>
    
    <div class="posts">
      {{> postsList}}
    </div>
  </div>
</template>

<template name="postSubmit">
  <form class="post-submit">
    <input type="text" name="title" placeholder="Title" required>
    <input type="url" name="url" placeholder="URL" required>
    <button type="submit">Submit</button>
  </form>
</template>

<template name="postsList">
  {{#each posts}}
    {{> postItem}}
  {{/each}}
</template>

<template name="postItem">
  <div class="post">
    <div class="post-content">
      <h3><a href="{{url}}" target="_blank">{{title}}</a></h3>
      <p>
        {{votes}} votes, 
        submitted by {{author}}
        <a href="#" class="upvote">â¬† Upvote</a>
      </p>
    </div>
    
    <div class="comments">
      <h4>Comments</h4>
      {{#each commentsForPost}}
        <div class="comment">
          <p>{{text}} - by {{author}}</p>
        </div>
      {{/each}}
      
      {{#if currentUser}}
        <form class="comment-form">
          <textarea name="text" placeholder="Add your comment..."></textarea>
          <button type="submit">Add Comment</button>
        </form>
      {{/if}}
    </div>
  </div>
</template>